        
<macros>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="@TOOL_VERSION@">rnaquast</requirement>
            <!--requirement type="package" version="1.34">tar</requirement-->            
        </requirements>
    </xml>
    <xml name="xrefs">
        <xrefs>
            <xref type="bio.tools">rnaQUAST</xref>
        </xrefs>
    </xml>
    <token name="@TOOL_VERSION@">2.2.3</token>
    <token name="@VERSION_SUFFIX@">0</token>
    <token name="@PROFILE@">20.05</token>
    <xml name="element_matching_line" token_name="" token_expression="">
        <element name="@NAME@">
            <assert_contents>
                <has_line_matching expression="@EXPRESSION@" />
            </assert_contents>
        </element>
    </xml>
    <xml name="element_has_text" token_name="" token_text="">
        <element name="@NAME@">
            <assert_contents>
                <has_text text="@TEXT@" />
            </assert_contents>
        </element>
    </xml>
    <xml name="details_output_test" token_assembler="">
        <element name="@ASSEMBLER@">
            <expand macro="element_matching_line" name="alignment_metrics" expression="\s*== ALIGNMENT METRICS \(calculated with reference genome but without gene database\) ==\s*" />
            <expand macro="element_matching_line" name="alignment_multiplicity" expression="unaligned=\d+ aligned=\d+ alignments=\d+\s*" />
            <expand macro="element_matching_line" name="alignments_per_isoform" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="basic_metrics" expression="\s*== BASIC TRANSCRIPTS METRICS \(calculated without reference genome and gene database\) ==\s*" />
            <expand macro="element_matching_line" name="block_length" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="blocks_per_alignment" expression="avg=[\d.]+\s+tot=\d+\s*" />
            <expand macro="element_matching_line" name="database_metrics" expression="\s*== GENE DATABASE METRICS ==\s*" />
            <expand macro="element_matching_line" name="misassemblies" expression="\s*== ALIGNMENT METRICS FOR MISASSEMBLED \(CHIMERIC\) TRANSCRIPTS \(calculated with reference genome or with gene database\) ==\s*" />
            <expand macro="element_matching_line" name="mismatch_rate" expression="avg=[\d.]+\s+tot=\d+\s*" />
            <expand macro="element_matching_line" name="sensitivity" expression="\s*== ASSEMBLY COMPLETENESS \(SENSITIVITY\) ==\s*" />
            <expand macro="element_matching_line" name="specificity" expression="\s*== ASSEMBLY SPECIFICITY ==\s*" />
            <expand macro="element_matching_line" name="transcript_length" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-aligned" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-assembled" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-assembled_exons" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-covered" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-covered_exons" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-matched" expression="avg=[\d.]+\s*" />
            <expand macro="element_matching_line" name="x-matched_blocks" expression="avg=[\d.]+\s*" />
        </element>
    </xml>

    <xml name="txt_output_test" token_assembler="">
        <output name="short_report_txt">
            <assert_contents>
                <has_text text="SHORT SUMMARY REPORT" />
            </assert_contents>
        </output>
    </xml>
    <xml name="tex_output_test" token_assembler="">
        <output name="short_report_tex">
            <assert_contents>
                <has_text text="Short summary report" />
                <has_text text="end{document}" />
            </assert_contents>
        </output>
    </xml>
    <xml name="tsv_output_test" token_assembler="">
        <output name="short_report_tsv">
            <assert_contents>
                <has_line_matching expression="^METRICS/TRANSCRIPTS\t.+$" />
            </assert_contents>
        </output>
    </xml>
    <xml name="pdf_output_test" token_assembler="">
        <output name="short_report_pdf">
            <assert_contents>
                <has_text text="rnaQUAST short report" />
            </assert_contents>
        </output>
    </xml>
 </macros>