<macros>
    <token name="@VERSION_SUFFIX@">2</token>
    <token name="@TOOL_VERSION@">0.9.9</token>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="5.0.1">gawk</requirement>
            <requirement type="package" version="@TOOL_VERSION@">cnvkit</requirement>
        </requirements>
    </xml>
    <xml name="xrefs">
        <xrefs>
            <xref type="bio.tools">cnvkit.py call</xref>
        </xrefs>
    </xml>
    <xml name="optional">
        <!-- general parameters -->
            <param argument="--method" type="select" label="Select the sequencing method of the input file(s) " help="">
                <option value="threshold" selected="True">hybridization capture </option>
                <option value="clonal">targeted amplicon sequencing </option>
                <option value="none"> whole genome sequencing </option>
            </param>
            <param argument="--center" type="select" label="Method used in the 'segment' step" help="">
                <option value="mean"></option>
                <option value="median" selected="True"></option>
                <option value="mode"></option>
                <option value="biweight"></option>
            </param>
            <param argument="--center-at" optional="true" type="float" label="Subtract a constant number from all log2 ratios." value="" help="For manual re-centering, in case the --center option gives unsatisfactory results.)" />
            <param argument="--filter" type="select" multiple="true" label="Method used in the 'segment' step" help="">
                <option value="ampdel"></option>
                <option value="cn" selected="True"></option>
                <option value="ci"></option>
                <option value="sem"></option>
            </param>
            <param argument="--thresholds" optional="true" type="text" label="Hard thresholds for calling each integer copy number, separated by commas." value="=-1.1,-0.25,0.2,0.7" help=" Use the '=' sign on the command line, e.g.: -t=-1,0,1 [Default: -1.1,-0.25,0.2,0.7]" />
            <param argument="--ploidy" optional="true" type="float" label="Ploidy of the sample cells." value="2" help="" />
            <param argument="--purity" optional="true" type="float" label="Estimated tumor cell fraction, a.k.a. purity or cellularity." value="" help="" />
            <param argument="--drop-low-coverage" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Drop very-low-coverage bins before segmentation" help="To avoid false-positive deletions in poor-quality tumor samples" />
            <param argument="--sample-sex" type="select" label="Method used in the 'segment' step" help=""> 
                <option value="Male"></option>
                <option value="Female"></option>
            </param>
            <param argument="--male-reference" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Use or assume a male reference" help="Was a male reference used? If so, expect half ploidy on chrX and chrY; otherwise, only chrY has half ploidy. In CNVkit, if a male reference was used, the neutral copy number (ploidy) of chrX is 1; chrY is haploid for either reference sex." />            
    </xml>
    <xml name="additionally_SNP_process">
        <param argument="--vcf" optional="true" type="data" format="vcf" multiple="false" label="VCF file" help="VCF file name containing variants for calculation of b-allele frequencies." />
        <param argument="--sample-id" optional="true" type="text" label="Name of the sample in the VCF to use for b-allele frequency extraction." value="" help="" />
        <param argument="--normal-id" optional="true" type="text" label="Corresponding normal sample ID in the input VCF" value="" help="This sample is used to select only germline SNVs to calculate b-allele frequencies." />
        <param argument="--min-variant-depth" optional="true" type="float" label="Minimum read depth for a SNV to be used in the b-allele frequency calculation." value="20" help="" />
        <param argument="--zygosity-freq" optional="true" type="float" label="Ignore VCF's genotypes" value="0.25" help="Ignore VCF's genotypes and instead infer zygosity from allele frequencies." />  
    </xml>
</macros>