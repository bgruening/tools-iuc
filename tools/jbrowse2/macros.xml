<?xml version="1.0"?>
<macros>
  <token name="@TOOL_VERSION@">2.10.0</token>
  <xml name = "edamInc">
    <edam_operations>
        <edam_operation>operation_0573</edam_operation>
        <edam_operation>operation_0564</edam_operation>
   </edam_operations>
   <edam_topics>
        <edam_topic>topic_3307</edam_topic>
        <edam_topic>topic_0092</edam_topic>
    </edam_topics>
  </xml>
  <xml name="requirements">
    <requirements>
      <requirement type="package" version="@TOOL_VERSION@">jbrowse2</requirement>
      <requirement type="package" version="1.81">biopython</requirement>
      <requirement type="package" version="0.7.0">bcbio-gff</requirement>
      <requirement type="package" version="1.19">samtools</requirement>
      <requirement type="package" version="6.0.1">pyyaml</requirement>
      <requirement type="package" version="1.11">tabix</requirement>
      <requirement type="package" version="4.6.0">findutils</requirement>
      <yield/>
    </requirements>
  </xml>
  <token name="@DATA_DIR@">\$GALAXY_JBROWSE_SHARED_DIR</token>
  <token name="@WRAPPER_VERSION@">galaxy1</token>
  <token name="@ATTRIBUTION@"><![CDATA[
**Attribution**
This Galaxy tool relies on the JBrowse, maintained by the GMOD Community. The Galaxy wrapper is developed by the IUC
This xml currently fails silently when profile=22.05 is set.
]]>
  </token>

  <xml name="track_styling"
       token_classname="feature"
       token_label="product,name,id"
       token_description="note,description"
       token_height="10px"
       token_maxheight="600">
    <section name="jbstyle" title="JBrowse Styling Options [Advanced]" expanded="false">
        <param label="JBrowse style.className" type="text"
               name="style_classname"
               value="@CLASSNAME@"
               help="Set CSS style.className property"/>
        <param label="JBrowse style.label"
               type="text"
               name="style_label"
               value="@LABEL@"
               help="Comma-separated list of case-insensitive feature tags to use for showing the feature's label. The first one found will be used. Default 'name,id'" />
        <param label="JBrowse style.description"
               type="text"
               name="style_description"
               value="@DESCRIPTION@"
               help="Comma-separated list of case-insensitive feature tags to check for the feature's long description. The first one found will be used."/>
        <param label="JBrowse style.height"
               type="text"
               name="style_height"
               value="@HEIGHT@"
               help="Height in pixels of glyphs. Default value varies from glyph to glyph. Note that the 'compact' displayMode uses style->height * 0.35 so changing style height can adjust the compact visualization."/>
        <param label="JBrowse maxHeight"
               type="text"
               name="max_height"
               value="@MAXHEIGHT@"
               help="Maximum height that the track is permitted to reach in pixels."/>
    </section>
  </xml>

  <xml name="input_conditional" token_label="Track Data" token_format="data">
      <param label="@LABEL@" format="@FORMAT@" name="annotation" type="data" multiple="True"/>
  </xml>
  <xml name="citations">
    <citations>
      <citation type="doi">10.1101/gr.094607.109</citation>
    </citations>
  </xml>


</macros>
